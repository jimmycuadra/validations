<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `validations` crate.">
    <meta name="keywords" content="rust, rustlang, rust-lang, validations">

    <title>validations - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'></p><script>window.sidebarCurrent = {name: 'validations', ty: 'mod', relpath: '../'};</script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content mod">
<h1 class='fqn'><span class='in-band'>Crate <a class='mod' href=''>validations</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-0' class='srclink' href='../src/validations/src/lib.rs.html#1-470' title='goto source code'>[src]</a></span></h1>
<div class='docblock'><p>Crate <code>validations</code> provides an interface to check the validity of arbitrary types.</p>

<p>The <code>Validate</code> trait provides the <code>validate</code> method, which runs arbitrary validation logic and
returns a result indicating whether or not the value is valid. A return value of <code>Ok(())</code>
indicates a valid value. A return value of <code>Err(Errors)</code> indicates an invalid value,
and includes details of why the value failed validation.</p>

<p><code>Errors</code> is a container that can hold both general and field-specific validation
errors for an invalid value. An individual validation error is represented by
<code>Error</code>, which contains a human-readable error message, and an optional type of the
programmer&#39;s choice that includes additional contextual information about the error.</p>

<p>Types that implement <code>Validate</code> should handle validation logic for each of their fields, as
necessary. If the type of a field implements <code>Validate</code> itself, it&#39;s also possible to delegate
to the field to validate itself and assign any resulting errors back to the parent type&#39;s
errors.</p>

<p>Instead of implementing <code>Validate</code>, another approach is to implement validation logic inside the
constructor function of a type <code>T</code>, and return <code>Result&lt;T, Errors&gt;</code>, preventing an invalid value
from being created in the first place. This may not always be possible, as the value may be
created through other means. For example, the value may be deserialized from a format like JSON
from an external source. In this case, the <code>Validate</code> trait allows deserialization logic to be
decoupled from domain-level validation logic.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<p>Validating a value:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>entry</span> <span class='op'>=</span> <span class='ident'>AddressBookEntry</span> {
    <span class='ident'>cell_number</span>: <span class='prelude-val'>None</span>,
    <span class='ident'>email</span>: <span class='prelude-val'>Some</span>(<span class='ident'>Email</span>(<span class='string'>&quot;rcohle@dps.la.gov&quot;</span>)),
    <span class='ident'>home_number</span>: <span class='prelude-val'>Some</span>(<span class='ident'>PhoneNumber</span> {
        <span class='ident'>area_code</span>: <span class='string'>&quot;555&quot;</span>,
        <span class='ident'>number</span>: <span class='string'>&quot;555-5555&quot;</span>,
    }),
    <span class='ident'>name</span>: <span class='string'>&quot;Rust Cohle&quot;</span>,
};

<span class='macro'>assert</span><span class='macro'>!</span>(<span class='ident'>entry</span>.<span class='ident'>validate</span>().<span class='ident'>is_ok</span>());</pre>

<p>Validating a value with a non-field-specific error:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>entry</span> <span class='op'>=</span> <span class='ident'>AddressBookEntry</span> {
    <span class='ident'>cell_number</span>: <span class='prelude-val'>None</span>,
    <span class='ident'>email</span>: <span class='prelude-val'>Some</span>(<span class='ident'>Email</span>(<span class='string'>&quot;rcohle@dps.la.gov&quot;</span>)),
    <span class='ident'>home_number</span>: <span class='prelude-val'>None</span>,
    <span class='ident'>name</span>: <span class='string'>&quot;Rust Cohle&quot;</span>,
};

<span class='kw'>let</span> <span class='ident'>errors</span> <span class='op'>=</span> <span class='ident'>entry</span>.<span class='ident'>validate</span>().<span class='ident'>err</span>().<span class='ident'>unwrap</span>();

<span class='macro'>assert_eq</span><span class='macro'>!</span>(
    <span class='ident'>errors</span>.<span class='ident'>base</span>().<span class='ident'>unwrap</span>()[<span class='number'>0</span>].<span class='ident'>message</span>(),
    <span class='string'>&quot;at least one phone number is required&quot;</span>.<span class='ident'>to_string</span>()
);</pre>

<p>Validating a value with a field error:</p>

<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>entry</span> <span class='op'>=</span> <span class='ident'>AddressBookEntry</span> {
    <span class='ident'>cell_number</span>: <span class='prelude-val'>None</span>,
    <span class='ident'>email</span>: <span class='prelude-val'>Some</span>(<span class='ident'>Email</span>(<span class='string'>&quot;rcohle@dps.la.gov&quot;</span>)),
    <span class='ident'>home_number</span>: <span class='prelude-val'>Some</span>(<span class='ident'>PhoneNumber</span> {
        <span class='ident'>area_code</span>: <span class='string'>&quot;555&quot;</span>,
        <span class='ident'>number</span>: <span class='string'>&quot;555-5555&quot;</span>,
    }),
    <span class='ident'>name</span>: <span class='string'>&quot;&quot;</span>,
};

<span class='kw'>let</span> <span class='ident'>errors</span> <span class='op'>=</span> <span class='ident'>entry</span>.<span class='ident'>validate</span>().<span class='ident'>err</span>().<span class='ident'>unwrap</span>();

<span class='macro'>assert_eq</span><span class='macro'>!</span>(
    <span class='ident'>errors</span>.<span class='ident'>field</span>(<span class='string'>&quot;name&quot;</span>).<span class='ident'>unwrap</span>().<span class='ident'>base</span>().<span class='ident'>unwrap</span>()[<span class='number'>0</span>].<span class='ident'>message</span>(),
    <span class='string'>&quot;can&#39;t be blank&quot;</span>.<span class='ident'>to_string</span>()
);</pre>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Error.html'
                                  title='validations::Error'>Error</a></td>
                           <td class='docblock short'>
                                <p>An individual validation error.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='struct' href='struct.Errors.html'
                                  title='validations::Errors'>Errors</a></td>
                           <td class='docblock short'>
                                <p>A collection of errors returned by a failed validation.</p>
                           </td>
                       </tr></table><h2 id='traits' class='section-header'><a href="#traits">Traits</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='trait' href='trait.Validate.html'
                                  title='validations::Validate'>Validate</a></td>
                           <td class='docblock short'>
                                <p>A validatable type.</p>
                           </td>
                       </tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.SimpleError.html'
                                  title='validations::SimpleError'>SimpleError</a></td>
                           <td class='docblock short'>
                                <p>An <code>Error</code> with no custom details, to avoid the generic parameter when not needed.</p>
                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class='type' href='type.SimpleErrors.html'
                                  title='validations::SimpleErrors'>SimpleErrors</a></td>
                           <td class='docblock short'>
                                <p><code>Errors</code> with no custom details, to avoid the generic parameter when not needed.</p>
                           </td>
                       </tr></table></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "validations";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>